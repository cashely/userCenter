<div class="easyui-layout" data-options="fit:true,border:false">
    <div data-options="region:'north',border:false" style="height:135px">
        <form>
            <div class="row form-row">
                <div class="col-sm-3">
                    <div class="form-group">
                        <label for="username">用户名</label>
                        <input type="text" required class="easyui-validatebox form-control input-sm" id="username" data-options="required:true,tipPosition:'top'" />
                        <script>
                            $('#username').combotree({
                                height:28
                            });
                        </script>
                    </div>
                </div>
                <div class="col-sm-3 has-error">
                    <div class="form-group">
                        <label for="phonenum">手机号</label>
                        <input type="text" required class="form-control input-sm" id="phonenum" />
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group">
                        <label for="email">邮件地址</label>
                        <input type="text" class="easyui-validatebox form-control input-sm" id="email" />
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group">
                        <label for="username">用户类别</label>
                        <select class="form-control input-sm">
                            <option>个人用户</option>
                            <option>企业用户</option>
                            <option>企业管理员</option>
                            <option>系统管理员</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row form-row">
                <div class="col-sm-3">
                    <div class="form-group">
                        <label for="email">所属机构</label>
                        <input type="text" class="form-control input-sm" id="email" />
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group">
                        <label for="email">用户状态</label>
                        <select class="form-control input-sm">
                            <option>个人用户</option>
                            <option>企业用户</option>
                            <option>企业管理员</option>
                            <option>系统管理员</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-offset-3 col-sm-3 search-btn">
                    <div class="btn-group">
                        <a href="#" class="btn btn-primary"><span class="fa fa-search"></span>查询</a>
                        <a href="#" class="btn btn-success" onclick="ajaxLoadframe('addUser')"><span class="fa fa-plus"></span>新增</a>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div data-options="region:'center',border:false" style="padding:10px;">
        <table id="userTable" class="table"></table>
    </div>

</div>

<script>
    $('#userTable').datagrid({
        url: 'json/user.json',
        method: 'get',
        border: false,
        fit: true,
        height: '100%',
        singleSelect: true,
        nowrap: true,
        striped: true,
        rownumbers: true,
        fitColumns: true,
        pageSize: 10, //每页显示的记录条数，默认为10 
        pageList: [5, 10, 15], //可以设置每页记录条数的列表
        pagination: true,
        columns: [
            [{
                field: 'username',
                title: '用户名',
                width: 100
            }, {
                field: 'nickname',
                title: '昵称',
                width: 100
            }, {
                field: 'phonenum',
                title: '手机号',
                width: 100
            }, {
                field: 'email',
                title: '邮件地址',
                width: 100
            }, {
                field: 'company',
                title: '所属机构',
                width: 100
            }, {
                field: 'usertype',
                title: '用户类别',
                width: 100
            }, {
                field: 'companyid',
                title: '企业帐号',
                width: 100
            }, {
                field: 'userstatu',
                title: '用户状态',
                width: 100
            }, {
                field: '_edit',
                title: '操作',
                width: 100,
                align: 'center',
                formatter: function(val, row, index) {
                    return '<div class="btn-group"><a class="btn-sm btn-link fn-edit-user" href="#"><span class="fa fa-edit"></span></a><a class="btn-sm btn-link fn-set-black-user" href="#"><span class="fa fa-ban"></span></a><a class="btn-sm btn-link fn-set-white-user" href="#"><span class="fa fa-check-square-o"></span></a></div>';
                }
            }]
        ]
    });

</script>



<script>
	$(document).on('click','a.fn-edit-user',function(){
// 		$('#editUser').dialog('open');
		ajaxLoadframe('editUser');
	});	
	$(document).on('click','a.fn-set-white-user',function(){
// 		$('#choiceRole').dialog('open');
		ajaxLoadframe('setWhiteuser');
	});
	$(document).on('click','a.fn-set-black-user',function(){
// 		$('#choiceRole').dialog('open');
		ajaxLoadframe('setBlackuser');
	});
</script>
